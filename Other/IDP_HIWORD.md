# 高位字、低位字

有时，值可以存储在整数值的高位字（high-order word）和低位字（low-order word）中。以下解释其含义。

首先，需了解 [变量类型](IDH_VARIABLES.md)：`int`、`word` 和 `byte`。

- `int` 占用 4 字节。
- `word` 占用 2 字节。
- 因此，`int` 包含 2 个 `word`。

![高位字和低位字](lohiword.gif)

- **绿色**：低位字（low-order word）。
- **蓝色**：高位字（high-order word）。

上图显示内存中的字节，采用小端格式（little-endian），字节顺序与十六进制表示（如 `0xHHHHLLLL`）相反，并标注了位移运算符名称。

- 低位字直接将其值加到整数总值。
- 高位字将其值乘以 `0x10000`（左移 16 位）后加到总值。

## 操作

### 存储到高位字和低位字

将两个值 `L`（低位）和 `H`（高位）存储到整数值 `R` 的低位字和高位字：

```qm
R = H<<16|L
;; 或
R = MakeInt(L H)
```

### 获取高位字和低位字

从整数值 `R` 获取低位字和高位字：

```qm
L = R&0xFFFF
H = R>>16
```

## 高位字节、低位字节

类似地，值可以存储在 `word` 值的高位字节（high-order byte）和低位字节（low-order byte）中，操作类似。

### 存储到高位字节和低位字节

将两个值 `L`（低位）和 `H`（高位）存储到 `word` 值 `R` 的低位字节和高位字节：

```qm
R = H<<8|L
```

### 获取高位字节和低位字节

从 `word` 值 `R` 获取低位字节和高位字节：

```qm
L = R&0xFF
H = R>>8&0xFF
```