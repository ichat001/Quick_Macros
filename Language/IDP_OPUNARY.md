# 一元运算符

## 语法
```
[+][@][!][~][-][*][*][*][&]operand
```

**示例**：`-10`，其中 `-` 为运算符，`10` 为操作数。

## 运算符
| 运算符 | 描述 |
|--------|------|
| `!` | 逻辑非运算符，若操作数为真（非 0），返回 0；若为假（0），返回 1。结果类型为 `int`。 |
| `~` | 按位取反运算符，返回操作数的按位补码，结果类型与操作数相同。 |
| `-` | 算术负运算符，返回操作数的负值，结果类型与操作数相同。 |
| `*` | 间接寻址运算符，通过[指针](IDH_POINTERS.html)访问值，操作数须为指针类型，结果类型为指针指向的类型。 |
| `&` | 取地址运算符，返回操作数（变量或函数名）的地址。若操作数为未初始化的引用变量，结果为 0。 |
| `+` | 类型转换运算符，用于赋值（如 `=`、`ret`、函数参数）以避免“类型不匹配”错误。对接口指针，在运行时查询接口；对 `lpstr` 和指针，仅传递原始值。不支持数字到字符串转换（需赋给 `str` 变量使用），也不支持字符串到数字转换（使用 [val](IDP_VAL.html) 函数）。 |
| `@` | （QM 2.3.0）将字符串转换为 [Unicode UTF-16](../Other/IDP_UNICODE.html)，操作数须为字符串（`lpstr` 或 `str`），结果为 UTF-16 字符串。用于调用接受 UTF-16 字符串的 DLL 或 COM 函数（参数类型通常为 `@*`（`word` 指针，C++ 中为 `LPWSTR`、`OLECHAR*` 等），或 `BSTR`、`int`，如 `SendMessageW`）。[示例](../str/IDP_S_UNICODE.html)。 |

## 备注
- 一元运算符须紧接操作数前。对于 `!`、`~`、`-`，操作数可为任意[表达式](../Other/IDP_EXPRESSION.html)；对于 `*`，操作数须为指针类型表达式。
- 一元运算符优先于[二元运算符](IDH_OPERATORS.html)，但低于成员访问运算符 (`.`) 和数组元素访问运算符 (`[]`)。
- 若多个一元运算符用于同一操作数，需按上述语法顺序排列，从右到左应用。

**另见**：[指针和引用变量](IDH_POINTERS.html)、[设置 DLL 函数地址](IDP_DLL.html)

## 示例
```cpp
a = -b
if(c > -10) a = Func(-10 ~(d|e))
if(!win("Notepad")) out "Notepad 窗口未找到"
int* ip = &i
j = *ip
*ip = 10
POINT p; GetCursorPos(&p)
```