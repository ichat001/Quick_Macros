# 触发器：键盘（热键）

## 概述

当按下指定的热键时，触发宏的执行。可以使用[属性对话框](IDH_PROPERTIES.md)或[触发字段](IDP_TRIGGER_CODING.md)来分配此触发器。

## 功能说明

- **Shift 键状态**：如果属性对话框中的 Shift 按钮处于不确定状态，触发器将在 Shift 键按下或释放时均生效。

- **Eat 选项**：如果未选中“Eat”，触发键将传递给通常接收这些键的窗口。如果有多个宏使用相同的第一个键，且其中一些宏选中了“Eat”，则带后续键的触发器会始终“吃掉”第一个键。

- **按键释放行为**：默认情况下，QM 不会等待触发键释放，而是自动释放它们。在某些情况下，这可能导致意外效果。例如，如果触发器包含 Ctrl 和 Alt，而宏发送 Delete 键，可能会生成 Ctrl+Alt+Delete。如果选中“When released”，宏仅在所有键和鼠标按钮释放后启动。

- **冲突处理**：两个未禁用的宏不应使用相同的热键触发器，除非它们针对特定程序或其他条件（参见[过滤函数](IDH_TFF.md)）。如果发生冲突，将运行在 QM 启动或当前文件打开时位于宏列表上方或更旧的宏。

- **系统热键**：某些热键被 Windows、其他程序或快捷方式使用，例如 Alt+Tab、Win+R、Win+Shift+M。如果想使用这些热键，请在[选项](IDH_SETT_TRIGGERS.md)中选中“Use low-level keyboard hook”。低级键盘钩子还使触发器在 Windows Vista 的控制台窗口中生效。然而，如果某些宏使用 DirectInput 或原始输入（如键盘检测器）获取键盘输入，低级键盘钩子将停止工作。

- **无活动窗口**：如果没有活动窗口，热键触发器将不生效。这种情况很少见，因为通常有窗口（如桌面或任务栏）处于活动状态。

- **快捷方式热键**：另一种热键类型是快捷方式的热键（快捷方式可位于桌面或开始菜单）。此类热键即使 QM 未运行也生效，且在控制台窗口中始终有效。要创建带热键的快捷方式，在属性对话框中按“Shortcut”按钮，在 Hotkey 字段中点击并按下热键，然后点击 OK。

## 另见

- [自动文本](IDH_TSM.md)