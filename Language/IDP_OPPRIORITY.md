# 运算符优先级

## 概述
在 QM 中，二元运算符分为三个优先级类别，按以下顺序计算：
1. 算术和位运算符
2. 比较运算符
3. 逻辑运算符

同一优先级类别的运算符从左到右计算，可使用括号改变计算顺序。

## 示例
以下两个语句等价（计算顺序相同），第二个示例将复杂表达式拆分为多个单运算符表达式（主表达式）：
```cpp
result = a+b*c < d+e and f > g*h or i = j
result = ((((a+b)*c) < (d+e)) and (f > (g*h))) or (i = j)
```

## 备注
- [一元运算符](IDP_OPUNARY.html) 在[二元运算符](IDH_OPERATORS.html)之前计算，但在成员访问运算符 (`.`) 和数组元素访问运算符 (`[]`) 之后。
- **QM 错误**：同时包含 `or` 和 `and` 运算符且无括号的表达式计算错误。例如：
  ```cpp
  out (1 or 0 and 0) ;; 输出 1（应为 0）
  ```
  解决方法：使用括号明确计算顺序，如：
  ```cpp
  out ((1 or 0) and 0)
  ```
  为向后兼容，此问题未修复，但 QM 会检测此类表达式并显示警告。